<!DOCTYPE html><html><head><link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"><link rel="stylesheet" type="text/css" href="/assets/ldui/ldui.min.css"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/pikaday@1.5.1/css/pikaday.min.css"><link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/handsontable/6.2.2/handsontable.min.css"><link rel="stylesheet" type="text/css" href="/css/index.css"></head><body><body><div class="w-100 h-50 vertical-center bg-light"><div class="text-center w-100"><h1>Schulze.js</h1><p>JS implementation of Schulze method for your Condorcet election method.</p><a class="btn btn-primary m-2" href="/app/">Try It Online</a><a class="btn btn-outline-dark m-2" href="http://github.com/zbryikt/schulze.js/">Github Repo</a><div class="btn btn-outline-secondary disabled m-2 has-tips"><span>G Sheet Addon</span><div class="hover-tip bottom tip-sm">Coming Soon</div></div></div></div><div class="w-1024 mx-auto rwd h-100 typeset heading-contrast pt-4"><h2>What's Schulze.js</h2><p>Schulze.js is an open source <sup><small>MIT License</small></sup> JS implementation of the electoral system <a href="https://en.wikipedia.org/wiki/Schulze_method" target="_blank">Schulze method</a>, which is one of the Condorcet election method that elects the candidate that would win a majority of the vote in all of the head-to-head elections against each of the other candidates, whenever there is such a candidate.</p><h2>Install</h2><p>Schulze.js is available both for browser or Node.js.</p><h3>Browser</h3><p>Simply <a href="https://github.com/zbryikt/schulze.js/">download schulze.js or schulze.min.js</a> from github and include it in your html:</p><div class="example code-block">&lt;script src="<path-to>/schulze.js"&;gt;&lt;/script&gt;</div><h3>Node.js</h3><p>First install this module:</p><div class="example code-block">npm install --save zbryikt/schulze.js</div><p>Then, require it in your script:</p><div class="example code-block">require("schulze.js")</div><h2>Usage</h2><p>Say you have a form of scores for candidates provided by different judges looking like this:</p><div class="text-center text-sm mb-4" id="sample-form"><div class="inner"></div></div><p>And it's stored in either CSV format or a 2D Array:</p><div class="row text-sm example"><div class="col-md"><h6>CSV</h6><div class="code-block">"Candidates", "John", "Joe", "David", "Mary"
"Cand 1", 90, 60, 80, 70
"Cand 2", 80, 50, 70, 60
"Cand 3", 70, 40, 60, 50
"Cand 4", 60, '', 50, 40
"Cand 5", 50, 20, '', 30
</div></div><div class="col-md"><h6>Array</h6><div class="code-block">[ ["Candidates", "John", "Joe", "David", "Mary"],
  ["Cand 1", 90, 60, 80, 70],
  ["Cand 2", 80, 50, 70, 60],
  ["Cand 3", 70, 40, 60, 50],
  ["Cand 4", 60, '', 50, 40],
  ["Cand 5", 50, 20, '', 30] ]
</div></div></div><p>You can calculate the rank with Schulze method by passing the data into following functions:</p><div class="example code-block">ret = schulze.fromCsv(data, config);    /* from CSV */
ret = schulze.fromArray(data, config);  /* from Array */</div><p>the returned value is an object with two members <code>rank</code> and <code>detail</code>:</p><div class="example row"><div class="col-md"><h6>rank</h6><p>list of objects for each candidates. Each object contains following fields</p><ul><li><code>idx</code> - original index in data</li><li><code>count</code> - count of winning vote against others</li><li><code>rank</code> - rank in all candidates</li><li><code>name</code> - name of candidate</li></ul></div><div class="col-md"><div class="h-100 vertical-center"><div class="text-sm"><div class="code-block">[
  { idx: 0, count: 4, rank: 1, name: "Candidate 1" },
  { idx: 1, count: 3, rank: 2, name: "Candidate 2" },
  { idx: 2, count: 2, rank: 3, name: "Candidate 3" },
  { idx: 3, count: 1, rank: 4, name: "Candidate 4" },
  { idx: 4, count: 0, rank: 5, name: "Candidate 5" }
]</div></div></div></div></div><div class="example row"><div class="col-md"><h6>detail</h6><p>count of winning votes for every candidate against other candidates.</p><ul><li>1st value - candidate rank</li><li>2nd value - candidate name</li><li>other values - winning vote count against others.</li></ul></div><div class="col-md"><div class="h-100 vertical-center"><div class="text-sm"><div class="code-block">[
  [ 1, "Candidate 1", 0, 4, 4, 4, 4 ],
  [ 2, "Candidate 2", 0, 0, 4, 4, 4 ],
  [ 3, "Candidate 3", 0, 0, 0, 4, 4 ],
  [ 4, "Candidate 4", 0, 0, 0, 0, 3 ],
  [ 5, "Candidate 5", 0, 0, 0, 1, 0 ]
]
</div></div></div></div></div><h3>Output</h3><p>Schulze.js provides a handy <code>toCsv</code> function for you to generate result in CSV:</p><div class="example code-block">schulze.toCsv(rank, config);</div><p>where <code>rank</code> is the rank member of returned object generated by <code>fromCsv</code> or <code>fromArray</code> function calls.</p><h2>Configuration</h2><p>Schulze.js provides some additional configurations so you can tweak its behavior based on your input and desired output.</p><h3>Input Options</h3><p>Input options are available in <code>fromCsv</code> and <code>fromArray</code>.</p><ul><li><code>isRowBased</code> - see next section. default <code>true</code></li><li><code>isRank</code> - is input data actually ranking order. default <code>false</code></li><li><code>higherIsBetter</code> - is higher input value means better in score. default <code>true</code></li></ul><h3>Output Options</h3><p>Output options are available in <code>toCsv</code> function.</p><ul><li><code>sort</code> - sort result based on ranking. default <code>false</code>.</li></ul><h2>Use in Google Sheet</h2><p>While not yet available, it's possible to use Schulze.js as a google sheet function once you install it after the extension get approved by Google team. To use it, call the function "schulze" with following parameters:</p><ul><li><code>input</code> - Range of the above data, such as "A1:E7"</li><li><code>isRowBased</code> - default true. only set it to false if you got your data transposed.</li><li><code>isRank</code> - set to true if the values are rank instead of score, otherwise false.</li><li><code>higherIsBetter</code> - set to true if higher score means better, otherwise false.</li></ul><p>here is an example of the usage and corresponding result:</p><div class="text-center"><h4><code>=schulze(B2:E8,true,false,true)</code></h4><img class="mt-1" src="/assets/img/spreadsheet.png" style="border:1px solid #ccc"></div><br><br><p>If you don't know how to use spreadsheet function, you can still compute the schulze rank by </p><ol><li>selecting the overall data ranges including judges and candidates</li><li>in the menu bar, click <code>Add-ons</code> → <code>Condorcet</code> → <code>Condorcet / Schulze Mtehod</code></li><li>the result will be append after the last column of the selected range.</li></ol><h3>License</h3><p>This library is open sourced under <a href="https://github.com/zbryikt/schulze.js/blob/master/LICENSE" target="_blank">MIT License</a>. Source code can be found in its <a href="https://github.com/zbryikt/schulze.js/">Github Repository</a>. For bug reports, pull requests or feature suggestions, please also firing issues / pull requests in the repository.</p><br><br><br></div></body><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap.native/2.0.27/bootstrap-native-v4.min.js"></script><script type="text/javascript" src="/assets/ldui/ldui.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/pikaday@1.5.1/pikaday.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/moment@2.20.1/moment.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/numbro@2/dist/numbro.min.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/handsontable/6.2.2/handsontable.min.js"></script><script type="text/javascript" src="/js/index.js"></script></body></html>